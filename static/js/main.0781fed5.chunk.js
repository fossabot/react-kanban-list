(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{240:function(e,t,n){},242:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"isFetchEditPanel",function(){return U}),n.d(r,"isFetchDeletePanel",function(){return W}),n.d(r,"isFetchMovelPanel",function(){return K}),n.d(r,"isFetchInsertPanel",function(){return $}),n.d(r,"isFetchRemoveFromPanel",function(){return z}),n.d(r,"createPanel",function(){return G}),n.d(r,"editPanel",function(){return H}),n.d(r,"deletePanel",function(){return Q}),n.d(r,"movePanel",function(){return Y});var a={};n.r(a),n.d(a,"isFetchCreateCard",function(){return Z}),n.d(a,"isFetchEditCard",function(){return ee}),n.d(a,"isFetchDeleteCard",function(){return te}),n.d(a,"createCard",function(){return ne}),n.d(a,"editCard",function(){return re}),n.d(a,"deleteCard",function(){return ae}),n.d(a,"moveCard",function(){return ce}),n.d(a,"insertInPanel",function(){return ie});var c=n(1),i=n.n(c),o=n(16),l=n.n(o),u=n(24),d=n(246),s=n(58),p=n.n(s),f=n(245),m=n(247),E=function(e){var t=e.children;return i.a.createElement("div",null,i.a.createElement(P,null),i.a.createElement(A,null),i.a.createElement("main",null,t))},h=n(97),v=n(243),g=function(e){var t=e.component,n=e.layout,r=Object(h.a)(e,["component","layout"]);return i.a.createElement(v.a,Object.assign({},r,{render:function(e){return i.a.createElement(n,null,i.a.createElement(t,e))}}))},O=n(7),b=n(8),C=n(10),y=n(9),j=n(11),D=n(13),P=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(C.a)(this,Object(y.a)(t).call(this,e))).toggle=n.toggle.bind(Object(D.a)(Object(D.a)(n))),n.state={isOpen:!1},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return i.a.createElement("header",null)}}]),t}(c.Component),T=n(248),k=n(4),A=function(e){function t(e){var n;return Object(O.a)(this,t),(n=Object(C.a)(this,Object(y.a)(t).call(this,e))).toggle=n.toggle.bind(Object(D.a)(Object(D.a)(n))),n.state={isOpen:!1},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return i.a.createElement(k.l,{color:"light",light:!0,expand:"md"},i.a.createElement(k.m,{onClick:this.toggle}),i.a.createElement(k.i,{className:"ml-auto",navbar:!0},i.a.createElement(k.j,null,i.a.createElement(k.k,{to:"/",tag:T.a},"Board"))))}}]),t}(c.Component),N=n(43),w=n(14),R=n(92),I=n.n(R),_=n(0),x=n.n(_),L=function(e){function t(){return Object(O.a)(this,t),Object(C.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props;return(0,e.connectDragSource)((0,e.connectDropTarget)(i.a.createElement("div",null,i.a.createElement(k.f,null,this.props.children))))}}]),t}(c.Component);L.proptypes={connectDragSource:x.a.func.isRequired,connectDropTarget:x.a.func.isRequired};var S=Object(w.DragSource)("CARD",{beginDrag:function(e){return{id:e.id}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(Object(w.DropTarget)("CARD",{hover:function(e,t){var n=e.id,r=t.getItem().id;n!==r&&e.moveCard(n,r)}},function(e,t){return{connectDropTarget:e.dropTarget()}})(L)),F=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(C.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(a)))).handleClickToEdit=function(){var e=n.props,t=e.id;(0,e.clickToEdit)(t)},n.handleEdit=function(e){if("keypress"!==e.type||"Enter"===e.key){var t=e.target.value,r=n.props,a=r.id,c=r.editComponent;t.trim().length&&c(a,t)}},n.handleDelete=function(){var e=n.props,t=e.id;(0,e.deleteComponent)(t)},n.renderEditable=function(){return i.a.createElement("div",null,i.a.createElement(k.h,{type:"text",className:"form-control",defaultValue:n.props.text,onBlur:n.handleEdit,onKeyPress:n.handleEdit}))},n.renderText=function(){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-10 no-padding"},i.a.createElement(k.h,{type:"text",className:"form-control",defaultValue:n.props.text,onClick:n.handleClickToEdit,readOnly:!0})),i.a.createElement("div",null,i.a.createElement(k.a,{onClick:n.handleDelete,color:"danger",className:"col-4"},i.a.createElement("i",{class:"icon ion-md-trash"}))))},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return this.props.edit?this.renderEditable():i.a.createElement("div",null,this.renderText())}}]),t}(c.Component),M=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(C.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(a)))).mountCards=function(){var e=n.props,t=e.cards,r=e.moveCard,a=e.clickToEdit,c=e.editCard,o=e.deleteCard;return t.map(function(e){return i.a.createElement(S,{key:e.id,id:e.id,moveCard:r},i.a.createElement(F,{id:e.id,edit:e.edit,text:e.text,clickToEdit:a,editComponent:c,deleteComponent:o}))})},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return console.log("this: ",this.props),i.a.createElement("ul",null,this.mountCards())}}]),t}(c.Component),V=n(62),B=n.n(V),X=n(93),q=n(41),J=n.n(q),U=function(e){return{type:"EDIT_PANEL",payload:e}},W=function(e){return{type:"DELETE_PANEL",payload:{id:e}}},K=function(e,t){return{type:"MOVE_PANEL",payload:{id:e,monitorId:t}}},$=function(e,t){return{type:"INSERT_IN_PANEL",payload:{panelId:e,cardId:t}}},z=function(e,t){return{type:"REMOVE_FROM_PANEL",payload:{panelId:e,cardId:t}}},G=function(){return function(){var e=Object(X.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t((n="New Panel",{type:"CREATE_PANEL",payload:{id:J()(),text:n,edit:!1,cards:[]}}));case 1:case"end":return e.stop()}var n},e,this)}));return function(t){return e.apply(this,arguments)}}()},H=function(e,t){return function(n){var r={id:e};t?(r.edit=!1,r.text=t):r.edit=!0,n(U(r))}},Q=function(e){return function(t){t(W(e))}},Y=function(e,t){return function(n){n(K(e,t))}},Z=function(e){return{type:"CREATE_CARD",payload:e}},ee=function(e){return{type:"EDIT_CARD",payload:e}},te=function(e){return{type:"DELETE_CARD",payload:{id:e}}},ne=function(e){return function(t){var n={id:J()(),edit:!1,text:"New Card"};t(Z(n)),t($(e,n.id))}},re=function(e,t){return function(n){var r={id:e};t?(r.edit=!1,r.text=t):r.edit=!0,n(ee(r))}},ae=function(e,t){return function(e){e(te(t))}},ce=function(){return function(e){}},ie=function(e,t){return function(n){n($(e,t))}},oe=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(C.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(a)))).handleCreateCard=function(){var e=n.props,t=e.panel;(0,e.createCard)(t.id)},n.handleDeleteCard=function(){var e=n.props,t=e.panel;(0,e.deleteCard)(t.id)},n.handleDeletePanel=function(e){var t=n.props,r=t.panel,a=t.deletePanel,c=t.deleteCard,i=r.cards;a(e),i.forEach(function(t){return c(e,t)})},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cards,n=e.panel,r=e.connectDragPreview,a=e.connectDropTarget,c=e.connectDragSource,o=e.editPanel,l=n.cards.map(function(e){return t.find(function(t){return t.id===e})}).filter(function(e){return e});return r(a(i.a.createElement("div",null,i.a.createElement(k.f,null,c(i.a.createElement("div",null,i.a.createElement(k.b,null,i.a.createElement(k.e,null,i.a.createElement(F,{id:n.id,edit:n.edit,text:n.text,editComponent:o,clickToEdit:o,deleteComponent:this.handleDeletePanel})),i.a.createElement(k.c,null,i.a.createElement(M,{cards:l,clickToEdit:this.props.editCard,deleteCard:this.handleDeleteCard,moveCard:this.props.moveCard})),i.a.createElement(k.d,null,i.a.createElement(k.a,{onClick:this.handleCreateCard},i.a.createElement("i",{className:"icon ion-md-add-circle"})," Card")))))))))}}]),t}(c.Component),le=Object(N.a)({},r,a),ue={hover:function(e,t){var n=e.panel,r=n.id,a=n.cards,c=t.getItem(),i=t.getItemType(),o=c.id;return r!==o&&"CARD"===i?e.movePanel(r,o):a.length||"CARD"!==i?void 0:e.insertPanel(r,o)}},de=Object(u.b)(function(e){return{cards:e.cardsReducer}},le)(Object(w.DragSource)("PANEL",{beginDrag:function(e){return{id:e.panel.id}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),connectDragPreview:e.dragPreview()}})(Object(w.DropTarget)(["CARD","PANEL"],ue,function(e,t){return{connectDropTarget:e.dropTarget()}})(oe))),se=function(e){var t=e.panels,n=e.editPanel,r=e.deletePanel,a=e.moveCard;return i.a.createElement(k.g,null,i.a.createElement(k.n,null,t.map(function(e){return i.a.createElement(de,{key:e.id,panel:e,editPanel:n,deletePanel:r,moveCard:a})})))},pe=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(C.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(a)))).handleCreatePanel=function(){n.props.createPanel()},n}return Object(j.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.panels,n=e.editPanel,r=e.deletePanel,a=e.movePanel;return i.a.createElement("div",null,i.a.createElement("div",{className:"col-12 action-create"},i.a.createElement(k.a,{color:"primary",onClick:this.handleCreatePanel},i.a.createElement("i",{className:""})," New Panel")),i.a.createElement(se,{panels:t,editPanel:n,deletePanel:r,movePanel:a}))}}]),t}(c.Component),fe=Object(N.a)({},r),me=Object(w.DragDropContext)(I.a)(Object(u.b)(function(e){return{panels:e.panelsReducer}},fe)(pe)),Ee=function(){return i.a.createElement(f.a,null,i.a.createElement(g,{exact:!0,path:"/",layout:E,component:me}),i.a.createElement(m.a,{from:"*",to:"/"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=n(12),ve=n(94),ge=n.n(ve),Oe=n(95),be=n(96),Ce=n(42),ye=[],je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PANEL":return Object(Ce.a)(e).concat([t.payload]);case"EDIT_PANEL":return e.map(function(e){return t.payload.id===e.id?Object.assign({},e,t.payload):e});case"DELETE_PANEL":var n=t.payload.id;return e.filter(function(e){return n!==e.id});case"INSERT_IN_PANEL":var r=t.payload,a=r.panelId,c=r.cardId;return e.map(function(e){var t=e.cards;return e.cards.indexOf(c)?e.id===a?Object.assign({},e,{cards:t.concat(c)}):e:Object.assign({},e,{cards:t.filter(function(e){return c!==e})})});case"MOVE_PANEL":var i=t.payload.id,o=t.payload.monitorId;return e.findIndex(function(e){return e.id===i}),e.findIndex(function(e){return e.id===o}),e;default:return e}},De=[],Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_CARD":return Object(Ce.a)(e).concat([t.payload]);case"EDIT_CARD":case"DELETE_CARD":default:return e}},Te=Object(he.combineReducers)({panelsReducer:je,cardsReducer:Pe,router:be.routerReducer});n(236),n(238),n(240);p.a.createInstance({name:"kanban_react",driver:p.a.INDEXEDDB,description:"Used to store panels and cards",version:1}).getItem("kanban").then(function(e){return e||void 0}).then(function(e){return function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return console.log("initialState: ",e),Object(he.applyMiddleware)(Oe.a,ge.a)(he.createStore)(Te,e,t)}(e)}).then(function(e){l.a.render(i.a.createElement(u.a,{store:e},i.a.createElement(d.a,null,i.a.createElement(Ee,null))),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,t,n){e.exports=n(242)}},[[98,2,1]]]);
//# sourceMappingURL=main.0781fed5.chunk.js.map